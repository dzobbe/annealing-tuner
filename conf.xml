
<builder-script>
    <default>./build_tuner.sh</default>
    <fulltag>sconecuratedimages/nginx:tuner</fulltag>
    <envfile>.ENV</envfile>
</builder-script>

<tuner-params>
    <max_step>10000</max_step>
    <num_iter>1</num_iter>
    <min_temp>1</min_temp>
    <max_temp>10000</max_temp>
    <energy>throughput</energy>
    <cooling>exponential</cooling>
    <version>seqsa</version>
    <workers>1</workers>
    <benchmark>Wrk</benchmark>
</tuner-params>

<target-params>
        <int-parameter>
                <name>MUSL_STHREADS</name>
                <default>32</default>
                <minimum>20</minimum>
                <maximum>70</maximum>
                <step>5</step>
                <level>runtime</level>
        </int-parameter>
        <int-parameter>
                <name>MUSL_ETHREADS</name>
                <default>4</default>
                <minimum>1</minimum>
                <maximum>10</maximum>
                <step>1</step>
                <level>runtime</level>
        </int-parameter>
        <int-parameter>
                <name>MUSL_SSLEEP</name>
                <default>3400</default>
                <minimum>2800</minimum>
                <maximum>4200</maximum>
                <step>100</step>
                <level>runtime</level>
        </int-parameter>
        <int-parameter>
                <name>MUSL_ESLEEP</name>
                <default>15000</default>
                <minimum>12000</minimum>
                <maximum>20000</maximum>
                <step>1000</step>
                <level>runtime</level>
        </int-parameter>
        <int-parameter>
                <name>MUSL_SSPINS</name>
                <default>80</default>
                <minimum>50</minimum>
                <maximum>140</maximum>
                <step>10</step>
                <level>runtime</level>
        </int-parameter>
        <int-parameter>
                <name>MUSL_ESPINS</name>
                <default>4800</default>
                <minimum>3400</minimum>
                <maximum>6400</maximum>
                <step>200</step>
                <level>runtime</level>
        </int-parameter>
        
        <int-parameter>
			   <name>client_header_buffer_size</name>
			   <default>1000</default>
			   <minimum>500</minimum>
			   <maximum>64000</maximum>
               <percent>50</percent>
			   <level>service-config</level>
		</int-parameter>

        <bool-parameter>
			   <name>http_ssl_module</name>
			   <default>true</default>
			   <true>--with-http_ssl_module</true>
			   <false>--without-http_ssl_module</false>
			   <level>compile</level>
		</bool-parameter>
</target-params>


